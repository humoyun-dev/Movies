{"ast":null,"code":"var _jsxFileName = \"/home/humoyunbek/Desktop/Movies/src/components/app/app.js\",\n    _s = $RefreshSig$();\n\nimport { Component, useState } from \"react\";\nimport AppInfo from \"../app-info/app-info\";\nimport SearchPanel from \"../search-panel/search-panel\";\nimport AppFilter from \"../app-filter/app-filter\";\nimport MovieList from \"../movie-list/movie-list\";\nimport MoviesAddForm from \"../movies-add-form/movies-add-form\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport \"./app.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [data, setData] = useState();\n  const [term, setTerm] = useState(\"\");\n  const [filter, setFilter] = useState(\"all\");\n\n  const onDelete = id => {\n    const newData = data.filter(c => c.id !== id);\n    setData(newData);\n  };\n\n  const addForm = item => {\n    const newItem = {\n      name: item.name,\n      viewers: item.viewers,\n      id: uuidv4(),\n      favourite: false,\n      like: false\n    };\n    const newData = [...data, newItem];\n    setData(newData);\n  };\n\n  const onToggleProp = (id, prop) => {\n    const newData = data.map(item => {\n      if (item.id === id) {\n        return { ...item,\n          [prop]: !item[prop]\n        };\n      }\n\n      return item;\n    });\n    setData(newData);\n  };\n\n  const searchHandler = (arr, term) => {\n    if (term.length === 0) {\n      return arr;\n    }\n\n    return arr.filter(item => item.name.toLowerCase().indexOf(term) > -1);\n  };\n\n  const filterHandler = (arr, filter) => {\n    switch (filter) {\n      case \"popular\":\n        return arr.filter(c => c.like);\n\n      case \"mostViewers\":\n        return arr.filter(c => c.viewers > 800);\n\n      default:\n        return arr;\n    }\n  };\n\n  const updateTermHandler = term => setTerm(term);\n\n  const updateFilterHandler = filter => setFilter(filter);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app font-monospace\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: [/*#__PURE__*/_jsxDEV(AppInfo, {\n        allMoviesCount: data.length,\n        favouriteMovieCount: data.filter(c => c.favourite).length\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-panel\",\n        children: [/*#__PURE__*/_jsxDEV(SearchPanel, {\n          updateTermHandler: updateTermHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AppFilter, {\n          filter: filter,\n          updateFilterHandler: updateFilterHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MovieList, {\n        onToggleProp: onToggleProp,\n        data: filterHandler(searchHandler(data, term), filter),\n        onDelete: onDelete\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MoviesAddForm, {\n        addForm: addForm\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n}; //   render() {\n//     const { data, term, filter } = this.state;\n//     const allMoviesCount = data.length;\n//     const favouriteMovieCount = data.filter((c) => c.favourite).length;\n//     const visibleData = this.filterHandler(\n//       this.searchHandler(data, term),\n//       filter\n//     );\n//     return (\n//       <div className=\"app font-monospace\">\n//         <div className=\"content\">\n//           <AppInfo\n//             allMoviesCount={allMoviesCount}\n//             favouriteMovieCount={favouriteMovieCount}\n//           />\n//           <div className=\"search-panel\">\n//             <SearchPanel updateTermHandler={this.updateTermHandler} />\n//             <AppFilter\n//               filter={filter}\n//               updateFilterHandler={this.updateFilterHandler}\n//             />\n//           </div>\n//           <MovieList\n//             onToggleProp={this.onToggleProp}\n//             data={visibleData}\n//             onDelete={this.onDelete}\n//           />\n//           <MoviesAddForm addForm={this.addForm} />\n//         </div>\n//       </div>\n//     );\n//   }\n// }\n\n\n_s(App, \"tc0n00JkadtZXcn+O38n8DJRBps=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Component","useState","AppInfo","SearchPanel","AppFilter","MovieList","MoviesAddForm","v4","uuidv4","App","data","setData","term","setTerm","filter","setFilter","onDelete","id","newData","c","addForm","item","newItem","name","viewers","favourite","like","onToggleProp","prop","map","searchHandler","arr","length","toLowerCase","indexOf","filterHandler","updateTermHandler","updateFilterHandler"],"sources":["/home/humoyunbek/Desktop/Movies/src/components/app/app.js"],"sourcesContent":["import { Component, useState } from \"react\";\nimport AppInfo from \"../app-info/app-info\";\nimport SearchPanel from \"../search-panel/search-panel\";\nimport AppFilter from \"../app-filter/app-filter\";\nimport MovieList from \"../movie-list/movie-list\";\nimport MoviesAddForm from \"../movies-add-form/movies-add-form\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport \"./app.scss\";\n\nconst App = () => {\n  const [data, setData] = useState();\n  const [term, setTerm] = useState(\"\");\n  const [filter, setFilter] = useState(\"all\");\n\n  const onDelete = (id) => {\n    const newData = data.filter((c) => c.id !== id);\n    setData(newData);\n  };\n\n  const addForm = (item) => {\n    const newItem = {\n      name: item.name,\n      viewers: item.viewers,\n      id: uuidv4(),\n      favourite: false,\n      like: false,\n    };\n    const newData = [...data, newItem];\n    setData(newData);\n  };\n\n  const onToggleProp = (id, prop) => {\n    const newData = data.map((item) => {\n      if (item.id === id) {\n        return { ...item, [prop]: !item[prop] };\n      }\n      return item;\n    });\n    setData(newData);\n  };\n\n  const searchHandler = (arr, term) => {\n    if (term.length === 0) {\n      return arr;\n    }\n\n    return arr.filter((item) => item.name.toLowerCase().indexOf(term) > -1);\n  };\n\n  const filterHandler = (arr, filter) => {\n    switch (filter) {\n      case \"popular\":\n        return arr.filter((c) => c.like);\n      case \"mostViewers\":\n        return arr.filter((c) => c.viewers > 800);\n      default:\n        return arr;\n    }\n  };\n\n  const updateTermHandler = (term) => setTerm(term);\n\n  const updateFilterHandler = (filter) => setFilter(filter);\n\n  return (\n    <div className=\"app font-monospace\">\n      <div className=\"content\">\n        <AppInfo\n          allMoviesCount={data.length}\n          favouriteMovieCount={data.filter((c) => c.favourite).length}\n        />\n        <div className=\"search-panel\">\n          <SearchPanel updateTermHandler={updateTermHandler} />\n          <AppFilter\n            filter={filter}\n            updateFilterHandler={updateFilterHandler}\n          />\n        </div>\n        <MovieList\n          onToggleProp={onToggleProp}\n          data={filterHandler(searchHandler(data, term), filter)}\n          onDelete={onDelete}\n        />\n        <MoviesAddForm addForm={addForm} />\n      </div>\n    </div>\n  );\n};\n\n//   render() {\n//     const { data, term, filter } = this.state;\n//     const allMoviesCount = data.length;\n//     const favouriteMovieCount = data.filter((c) => c.favourite).length;\n//     const visibleData = this.filterHandler(\n//       this.searchHandler(data, term),\n//       filter\n//     );\n\n//     return (\n//       <div className=\"app font-monospace\">\n//         <div className=\"content\">\n//           <AppInfo\n//             allMoviesCount={allMoviesCount}\n//             favouriteMovieCount={favouriteMovieCount}\n//           />\n//           <div className=\"search-panel\">\n//             <SearchPanel updateTermHandler={this.updateTermHandler} />\n//             <AppFilter\n//               filter={filter}\n//               updateFilterHandler={this.updateFilterHandler}\n//             />\n//           </div>\n//           <MovieList\n//             onToggleProp={this.onToggleProp}\n//             data={visibleData}\n//             onDelete={this.onDelete}\n//           />\n//           <MoviesAddForm addForm={this.addForm} />\n//         </div>\n//       </div>\n//     );\n//   }\n// }\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}