{"ast":null,"code":"import _defineProperty from\"/home/humoyunbek/Desktop/Sammi.ac/ReactJS/movia/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/humoyunbek/Desktop/Sammi.ac/ReactJS/movia/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/home/humoyunbek/Desktop/Sammi.ac/ReactJS/movia/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _classCallCheck from\"/home/humoyunbek/Desktop/Sammi.ac/ReactJS/movia/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/humoyunbek/Desktop/Sammi.ac/ReactJS/movia/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/humoyunbek/Desktop/Sammi.ac/ReactJS/movia/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/humoyunbek/Desktop/Sammi.ac/ReactJS/movia/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Component}from\"react\";import AppInfo from\"../app-info/app-info\";import SearchPanel from\"../search-panel/search-panel\";import AppFilter from\"../app-filter/app-filter\";import MovieList from\"../movie-list/movie-list\";import MoviesAddForm from\"../movies-add-form/movies-add-form\";import{v4 as uuidv4}from\"uuid\";import\"./app.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.onDelete=function(id){_this.setState(function(_ref){var data=_ref.data;return{data:data.filter(function(c){return c.id!==id;})};});};_this.addForm=function(item){var newItem={name:item.name,viewers:item.viewers,id:uuidv4(),favourite:false,like:false};_this.setState(function(_ref2){var data=_ref2.data;return{data:[].concat(_toConsumableArray(data),[newItem])};});};_this.onToggleProp=function(id,prop){_this.setState(function(_ref3){var data=_ref3.data;return{data:data.map(function(item){if(item.id===id){return _objectSpread(_objectSpread({},item),{},_defineProperty({},prop,!item[prop]));}return item;})};});};_this.searchHandler=function(arr,term){if(term.length===0){return arr;}return arr.filter(function(item){return item.name.toLowerCase().indexOf(term)>-1;});};_this.filterHandler=function(arr,filter){switch(filter){case\"popular\":return arr.filter(function(c){return c.like;});case\"mostViewers\":return arr.filter(function(c){return c.viewers>800;});default:return arr;}};_this.updateTermHandler=function(term){return _this.setState({term:term});};_this.updateFilterHandler=function(filter){return _this.setState({filter:filter});};_this.state={data:[{name:\"Empire of osman\",viewers:988,favourite:false,like:false,id:1},{name:\"Ertugrul\",viewers:789,favourite:false,like:false,id:2},{name:\"Omar\",viewers:1091,favourite:false,like:false,id:3}],term:\"\",filter:\"all\"};return _this;}_createClass(App,[{key:\"render\",value:function render(){var _this$state=this.state,data=_this$state.data,term=_this$state.term,filter=_this$state.filter;var allMoviesCount=data.length;var favouriteMovieCount=data.filter(function(c){return c.favourite;}).length;var visibleData=this.filterHandler(this.searchHandler(data,term),filter);return/*#__PURE__*/_jsx(\"div\",{className:\"app font-monospace\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(AppInfo,{allMoviesCount:allMoviesCount,favouriteMovieCount:favouriteMovieCount}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-panel\",children:[/*#__PURE__*/_jsx(SearchPanel,{updateTermHandler:this.updateTermHandler}),/*#__PURE__*/_jsx(AppFilter,{filter:filter,updateFilterHandler:this.updateFilterHandler})]}),/*#__PURE__*/_jsx(MovieList,{onToggleProp:this.onToggleProp,data:visibleData,onDelete:this.onDelete}),/*#__PURE__*/_jsx(MoviesAddForm,{addForm:this.addForm})]})});}}]);return App;}(Component);export default App;","map":{"version":3,"names":["Component","AppInfo","SearchPanel","AppFilter","MovieList","MoviesAddForm","v4","uuidv4","App","props","onDelete","id","setState","data","filter","c","addForm","item","newItem","name","viewers","favourite","like","onToggleProp","prop","map","searchHandler","arr","term","length","toLowerCase","indexOf","filterHandler","updateTermHandler","updateFilterHandler","state","allMoviesCount","favouriteMovieCount","visibleData"],"sources":["/home/humoyunbek/Desktop/Sammi.ac/ReactJS/movia/src/components/app/app.js"],"sourcesContent":["import { Component } from \"react\";\nimport AppInfo from \"../app-info/app-info\";\nimport SearchPanel from \"../search-panel/search-panel\";\nimport AppFilter from \"../app-filter/app-filter\";\nimport MovieList from \"../movie-list/movie-list\";\nimport MoviesAddForm from \"../movies-add-form/movies-add-form\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport \"./app.css\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [\n        {\n          name: \"Empire of osman\",\n          viewers: 988,\n          favourite: false,\n          like: false,\n          id: 1,\n        },\n        {\n          name: \"Ertugrul\",\n          viewers: 789,\n          favourite: false,\n          like: false,\n          id: 2,\n        },\n        { name: \"Omar\", viewers: 1091, favourite: false, like: false, id: 3 },\n      ],\n      term: \"\",\n      filter: \"all\",\n    };\n  }\n\n  onDelete = (id) => {\n    this.setState(({ data }) => ({\n      data: data.filter((c) => c.id !== id),\n    }));\n  };\n\n  addForm = (item) => {\n    const newItem = {\n      name: item.name,\n      viewers: item.viewers,\n      id: uuidv4(),\n      favourite: false,\n      like: false,\n    };\n    this.setState(({ data }) => ({\n      data: [...data, newItem],\n    }));\n  };\n\n  onToggleProp = (id, prop) => {\n    this.setState(({ data }) => ({\n      data: data.map((item) => {\n        if (item.id === id) {\n          return { ...item, [prop]: !item[prop] };\n        }\n        return item;\n      }),\n    }));\n  };\n\n  searchHandler = (arr, term) => {\n    if (term.length === 0) {\n      return arr;\n    }\n\n    return arr.filter((item) => item.name.toLowerCase().indexOf(term) > -1);\n  };\n\n  filterHandler = (arr, filter) => {\n    switch (filter) {\n      case \"popular\":\n        return arr.filter((c) => c.like);\n      case \"mostViewers\":\n        return arr.filter((c) => c.viewers > 800);\n      default:\n        return arr;\n    }\n  };\n\n  updateTermHandler = (term) => this.setState({ term });\n\n  updateFilterHandler = (filter) => this.setState({ filter });\n\n  render() {\n    const { data, term, filter } = this.state;\n    const allMoviesCount = data.length;\n    const favouriteMovieCount = data.filter((c) => c.favourite).length;\n    const visibleData = this.filterHandler(\n      this.searchHandler(data, term),\n      filter\n    );\n\n    return (\n      <div className=\"app font-monospace\">\n        <div className=\"content\">\n          <AppInfo\n            allMoviesCount={allMoviesCount}\n            favouriteMovieCount={favouriteMovieCount}\n          />\n          <div className=\"search-panel\">\n            <SearchPanel updateTermHandler={this.updateTermHandler} />\n            <AppFilter\n              filter={filter}\n              updateFilterHandler={this.updateFilterHandler}\n            />\n          </div>\n          <MovieList\n            onToggleProp={this.onToggleProp}\n            data={visibleData}\n            onDelete={this.onDelete}\n          />\n          <MoviesAddForm addForm={this.addForm} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}